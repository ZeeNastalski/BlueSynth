<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Synthesizer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="synth-container">
        <div class="controls">
            <div class="oscillator-section">
                <h2>Oscillator 1</h2>
                <div class="control-group">
                    <label>Wave Type</label>
                    <select id="osc1-wave">
                        <option value="sine">Sine</option>
                        <option value="square">Square</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="triangle" selected>Triangle</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Octave</label>
                    <input type="range" id="osc1-octave" min="-2" max="2" value="-1" step="1">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Detune</label>
                    <input type="range" id="osc1-detune" min="-100" max="100" value="-5">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Level</label>
                    <input type="range" id="osc1-level" min="0" max="100" value="33">
                    <span class="value">33</span>
                </div>
            </div>

            <div class="oscillator-section">
                <h2>Oscillator 2</h2>
                <div class="control-group">
                    <label>Wave Type</label>
                    <select id="osc2-wave">
                        <option value="sine">Sine</option>
                        <option value="square">Square</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="triangle" selected>Triangle</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Octave</label>
                    <input type="range" id="osc2-octave" min="-2" max="2" value="0" step="1">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Detune</label>
                    <input type="range" id="osc2-detune" min="-100" max="100" value="3">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Level</label>
                    <input type="range" id="osc2-level" min="0" max="100" value="33">
                    <span class="value">33</span>
                </div>
            </div>

            <div class="oscillator-section">
                <h2>Oscillator 3</h2>
                <div class="control-group">
                    <label>Wave Type</label>
                    <select id="osc3-wave">
                        <option value="sine">Sine</option>
                        <option value="square">Square</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="triangle" selected>Triangle</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Octave</label>
                    <input type="range" id="osc3-octave" min="-2" max="2" value="0" step="1">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Detune</label>
                    <input type="range" id="osc3-detune" min="-100" max="100" value="-3">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Level</label>
                    <input type="range" id="osc3-level" min="0" max="100" value="25">
                    <span class="value">25</span>
                </div>
            </div>

            <div class="oscillator-section">
                <h2>Oscillator 4</h2>
                <div class="control-group">
                    <label>Wave Type</label>
                    <select id="osc4-wave">
                        <option value="sine">Sine</option>
                        <option value="square">Square</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="triangle" selected>Triangle</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Octave</label>
                    <input type="range" id="osc4-octave" min="-2" max="2" value="1" step="1">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Detune</label>
                    <input type="range" id="osc4-detune" min="-100" max="100" value="5">
                    <span class="value">0</span>
                </div>
                <div class="control-group">
                    <label>Level</label>
                    <input type="range" id="osc4-level" min="0" max="100" value="25">
                    <span class="value">25</span>
                </div>
            </div>

            <div class="mixer-section">
                <h2>Mixer</h2>
                <div class="control-group">
                    <label>Master Level</label>
                    <input type="range" id="master-level" min="0" max="100" value="100">
                    <span class="value">100</span>
                </div>
                <div class="control-group checkbox">
                    <label>
                        <input type="checkbox" id="log-output" checked>
                        Logarithmic Output
                    </label>
                    <div class="help-text">Prevents clipping when mixing oscillators</div>
                </div>
            </div>

            <div class="envelope-section">
                <h2>Amplitude Envelope</h2>
                <div class="control-group">
                    <label>Attack</label>
                    <input type="range" id="env-attack" min="0" max="2000" value="100">
                    <span class="value">100</span>
                </div>
                <div class="control-group">
                    <label>Decay</label>
                    <input type="range" id="env-decay" min="0" max="2000" value="200">
                    <span class="value">200</span>
                </div>
                <div class="control-group">
                    <label>Sustain</label>
                    <input type="range" id="env-sustain" min="0" max="100" value="70">
                    <span class="value">70</span>
                </div>
                <div class="control-group">
                    <label>Release</label>
                    <input type="range" id="env-release" min="0" max="2000" value="500">
                    <span class="value">500</span>
                </div>
            </div>

            <div class="envelope-section">
                <h2>Filter Envelope</h2>
                <div class="control-group">
                    <label>Attack</label>
                    <input type="range" id="filter-env-attack" min="0" max="2000" value="100">
                    <span class="value">100</span>
                </div>
                <div class="control-group">
                    <label>Decay</label>
                    <input type="range" id="filter-env-decay" min="0" max="2000" value="200">
                    <span class="value">200</span>
                </div>
                <div class="control-group">
                    <label>Sustain</label>
                    <input type="range" id="filter-env-sustain" min="0" max="100" value="70">
                    <span class="value">70</span>
                </div>
                <div class="control-group">
                    <label>Release</label>
                    <input type="range" id="filter-env-release" min="0" max="2000" value="500">
                    <span class="value">500</span>
                </div>
                <div class="control-group">
                    <label>Amount</label>
                    <input type="range" id="filter-env-amount" min="0" max="100" value="50">
                    <span class="value">50</span>
                </div>
            </div>

            <div class="filter-section">
                <h2>Filter</h2>
                <div class="control-group">
                    <label>Type</label>
                    <select id="filter-type">
                        <option value="lowpass6">Low Pass 6dB/oct (1-pole)</option>
                        <option value="lowpass12">Low Pass 12dB/oct (2-pole)</option>
                        <option value="lowpass24" selected>Low Pass 24dB/oct (4-pole)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Frequency</label>
                    <input type="range" id="filter-freq" min="0" max="100" value="100">
                    <span class="value">20.0kHz</span>
                </div>
                <div class="control-group">
                    <label>Resonance</label>
                    <input type="range" id="filter-q" min="0" max="30" value="0">
                    <span class="value">0</span>
                </div>
            </div>

            <div class="lfo-section">
                <h2>LFO</h2>
                <div class="control-group">
                    <label>Target</label>
                    <select id="lfo-target">
                        <option value="none">None</option>
                        <option value="osc1-level">Oscillator 1 Level</option>
                        <option value="osc2-level">Oscillator 2 Level</option>
                        <option value="osc3-level">Oscillator 3 Level</option>
                        <option value="filter-freq">Filter Frequency</option>
                        <option value="filter-q">Filter Resonance</option>
                        <option value="osc1-detune">Oscillator 1 Detune</option>
                        <option value="osc2-detune">Oscillator 2 Detune</option>
                        <option value="osc3-detune">Oscillator 3 Detune</option>
                        <option value="osc4-level">Oscillator 4 Level</option>
                        <option value="osc4-detune">Oscillator 4 Detune</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Wave Type</label>
                    <select id="lfo-wave">
                        <option value="sine">Sine</option>
                        <option value="triangle">Triangle</option>
                        <option value="square">Square</option>
                        <option value="sawtooth">Sawtooth</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Rate</label>
                    <input type="range" id="lfo-rate" min="0.1" max="20" value="1" step="0.1">
                    <span class="value">1.0</span>
                </div>
                <div class="control-group">
                    <label>Amount</label>
                    <input type="range" id="lfo-amount" min="0" max="100" value="50">
                    <span class="value">50</span>
                </div>
                <div class="control-group">
                    <label>Phase</label>
                    <input type="range" id="lfo-phase" min="0" max="360" value="0" step="15">
                    <span class="value">0</span>
                </div>
            </div>

            <div class="effects-section">
                <h2>Effects</h2>
                <div class="control-group">
                    <label>Delay Time</label>
                    <input type="range" id="delay-time" min="0" max="1000" value="200">
                    <span class="value">200</span>
                </div>
                <div class="control-group">
                    <label>Delay Feedback</label>
                    <input type="range" id="delay-feedback" min="0" max="90" value="30">
                    <span class="value">30</span>
                </div>
                <div class="control-group">
                    <label>Delay Mix</label>
                    <input type="range" id="delay-mix" min="0" max="100" value="30">
                    <span class="value">30</span>
                </div>
                <div class="control-group">
                    <label>Reverb Size</label>
                    <input type="range" id="reverb-size" min="0" max="100" value="50">
                    <span class="value">50</span>
                </div>
                <div class="control-group">
                    <label>Reverb Damping</label>
                    <input type="range" id="reverb-damping" min="0" max="100" value="40">
                    <span class="value">40</span>
                </div>
                <div class="control-group">
                    <label>Reverb Mix</label>
                    <input type="range" id="reverb-mix" min="0" max="100" value="20">
                    <span class="value">20</span>
                </div>
            </div>
        </div>

        <div class="level-meter">
            <div class="meter-bar">
                <div class="meter-fill" id="output-level-meter"></div>
            </div>
            <div class="meter-label">Level</div>
        </div>

        <div class="keyboard">
            <div class="keyboard-controls">
                <button id="octave-down">◀ Octave Down</button>
                <span id="octave-display">C4-C6</span>
                <button id="octave-up">Octave Up ▶</button>
                <span id="midi-status" class="midi-status">MIDI: Not Connected</span>
            </div>
            <div class="white-keys">
                <div class="key white" data-note="C4">
                    <div class="key black" data-note="C#4"></div>
                </div>
                <div class="key white" data-note="D4">
                    <div class="key black" data-note="D#4"></div>
                </div>
                <div class="key white" data-note="E4"></div>
                <div class="key white" data-note="F4">
                    <div class="key black" data-note="F#4"></div>
                </div>
                <div class="key white" data-note="G4">
                    <div class="key black" data-note="G#4"></div>
                </div>
                <div class="key white" data-note="A4">
                    <div class="key black" data-note="A#4"></div>
                </div>
                <div class="key white" data-note="B4"></div>
                <div class="key white" data-note="C5">
                    <div class="key black" data-note="C#5"></div>
                </div>
                <div class="key white" data-note="D5">
                    <div class="key black" data-note="D#5"></div>
                </div>
                <div class="key white" data-note="E5"></div>
                <div class="key white" data-note="F5"></div>
            </div>
        </div>
    </div>
    <script src="synth.js"></script>
</body>
</html>
